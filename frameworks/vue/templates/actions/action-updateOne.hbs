import ApiError from "@/api/errors/ApiError";
import { {{pascalCase resource}}UpdateRoute } from "../../apis/{{snakeCase resource}}_update_route";
import { {{pascalCase resource}}UpdateInterface } from "../../interfaces/{{snakeCase resource}}_update_interface";
import { {{pascalCase resource}}Interface } from "../../interfaces/{{snakeCase resource}}_interface";
import { {{pascalCase resource}}Model } from "../../models/{{snakeCase resource}}_model";
import { {{pascalCase resource}}Store } from "../index";

/**
 * Action update{{pascalCase resource}}
 * Met à jour {{#if (isFeminine resource)}}une{{else}}un{{/if}} {{lowerCase resource}} existant{{#if (isFeminine resource)}}e{{/if}}
 * 
 * @param {{{pascalCase resource}}Store} store - Instance du store Pinia
 * @param {{ elementId, data }} - ID et données de mise à jour
 * @returns {Promise<{{pascalCase resource}}Model | ApiError>}
 */
export async function update{{pascalCase resource}}(
  store: {{pascalCase resource}}Store,
  { elementId, data }: { elementId: {{pascalCase resource}}Interface["id"], data: {{pascalCase resource}}UpdateInterface }
): Promise<{{pascalCase resource}}Model | ApiError> {
  const apiRoute = new {{pascalCase resource}}UpdateRoute(elementId, data);
  const result = await apiRoute.request();
  if (result instanceof ApiError) return result;
  return result;
}


